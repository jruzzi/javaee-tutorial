
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Loading JavaScript as a Resource</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>

<div id="preamble">
<div class="sectionbody">
<table id="top" class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 45%;">
<col style="width: 5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Java Platform, Enterprise Edition The Java EE Tutorial</strong><br>
<strong>Release 8 Java Platform, Enterprise Edition</strong><br>
E63026-01</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="toc.html"><span class="image"><img src="img/toc.gif" alt="Go To Table Of Contents"></span><br>
Contents</a></p></td>
</tr>
</tbody>
</table>
<hr>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="jsf-ajax009.html"><span class="image"><img src="img/leftnav.gif" alt="Previous"></span><br>
Previous</a> </p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="jsf-ajax011.html"><span class="image"><img src="img/rightnav.gif" alt="Next"></span><br>
Next</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> </p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="loading-javascript-as-a-resource">13.10 Loading JavaScript as a Resource</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The JavaScript resource file bundled with JavaServer Faces technology is
named <code>jsf.js</code> and is available in the <code>javax.faces</code> library. This
resource library supports Ajax functionality in JavaServer Faces
applications.</p>
</div>
<div class="paragraph">
<p>If you use the <code>f:ajax</code> tag on a page, the <code>jsf.js</code> resource is
automatically delivered to the client. It is not necessary to use the
<code>h:outputScript</code> tag to specify this resource. You may want to use the
<code>h:outputScript</code> tag to specify other JavaScript libraries.</p>
</div>
<div class="paragraph">
<p>To use a JavaScript resource directly with a <code>UIComponent</code>, you must
explicitly load the resource as described in either of the following
topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GKAFI">Section 13.10.1, "Using JavaScript API in a Facelets
Application"</a> – Uses the <code>h:outputScript</code> tag directly in a Facelets
page</p>
</li>
<li>
<p><a href="#GKIPX">Section 13.10.2, "Using the @ResourceDependency Annotation
in a Bean Class"</a> – Uses the
<code>javax.faces.application.ResourceDependency</code> annotation on a
<code>UIComponent</code> Java class</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="using-javascript-api-in-a-facelets-application">13.10.1 Using JavaScript API in a Facelets Application</h3>
<div class="paragraph">
<p>To use the JavaScript resource API directly in a web application, such
as a Facelets page:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Identify the default JavaScript resource for the page with the help
of the <code>h:outputScript</code> tag.</p>
<div class="paragraph">
<p>For example, consider the following section of a Facelets page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;h:form&gt;
    &lt;h:outputScript name="jsf.js" library="javax.faces" target="head"/&gt;
&lt;/h:form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Specifying the target as <code>head</code> causes the script resource to be
rendered within the <code>head</code> element on the HTML page.</p>
</div>
</li>
<li>
<p>Identify the component to which you would like to attach the Ajax
functionality.</p>
</li>
<li>
<p>Add the Ajax functionality to the component by using the JavaScript
API. For example, consider the following:</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;h:form&gt;
    &lt;h:outputScript name="jsf.js" library="javax.faces" target="head"&gt;
    &lt;h:inputText id="inputname" value="#{userBean.name}"/&gt;
    &lt;h:outputText id="outputname" value="#{userBean.name}"/&gt;
    &lt;h:commandButton id="submit" value="Submit"
                     onclick="jsf.ajax.request(this, event,
                              {execute:'inputname',render:'outputname'});
                              return false;" /&gt;
&lt;/h:form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>jsf.ajax.request</code> method takes up to three parameters that specify
source, event, and options. The source parameter identifies the DOM
element that triggered the Ajax request, typically <code>this</code>. The optional
event parameter identifies the DOM event that triggered this request.
The optional options parameter contains a set of name/value pairs from
<a href="#GKAIW">Table 13-5</a>.</p>
</div>
<div class="paragraph">
<p><a id="sthref72"></a><a id="GKAIW"></a></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Table 13-5 Possible Values for the Options Parameter</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 14%;">
<colgroup>
<col style="width: 99.0099%;">
<col style="width: 0.9901%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>execute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A space-delimited list of client identifiers or one of the
keywords listed in <a href="jsf-ajax003.html#GKNLK">Table 13-2</a>. The
identifiers reference the components that will be processed during the
Execute phase of the lifecycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>render</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A space-delimited list of client identifiers or one of the
keywords listed in <a href="jsf-ajax003.html#GKNLK">Table 13-2</a>. The
identifiers reference the components that will be processed during the
render phase of the lifecycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>onevent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>String</code> that is the name of the JavaScript function to
call when an event occurs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>onerror</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>String</code> that is the name of the JavaScript function to
call when an error occurs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>params</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object that may include additional parameters to include
in the request.</p></td>
</tr>
</tbody>
</table>
<div class="literalblock">
<div class="content">
<pre>+</pre>
</div>
</div>
<div class="paragraph">
<p>+
If no identifier is specified, the default assumed keyword for the
<code>execute</code> attribute is <code>@this</code>, and for the <code>render</code> attribute it is
<code>@none</code>.</p>
</div>
<div class="paragraph">
<p>+
You can also place the JavaScript method in a file and include it as a
resource.</p>
</div>
</div>
<div class="sect2">
<h3 id="using-the-resourcedependency-annotation-in-a-bean-class">13.10.2 Using the @ResourceDependency Annotation in a Bean Class</h3>
<div class="paragraph">
<p>Use the <code>javax.faces.application.ResourceDependency</code> annotation to cause
the bean class to load the default <code>jsf.js</code> library.</p>
</div>
<div class="paragraph">
<p>To load the Ajax resource from the server side:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the <code>jsf.ajax.request</code> method within the bean class.</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Note:</p>
</div>
<div class="paragraph">
<p>This method is usually used when creating a custom component or a custom
renderer for a component.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="literalblock">
<div class="content">
<pre>+</pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows how the resource is loaded in a bean class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@ResourceDependency(name="jsf.js" library="javax.faces" target="head")</code></pre>
</div>
</div>
</li>
</ol>
</div>
<hr>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 65%;">
<col style="width: 10%;">
<col style="width: 5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="jsf-ajax009.html"><span class="image"><img src="img/leftnav.gif" alt="Previous"></span><br>
Previous</a> </p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="jsf-ajax011.html"><span class="image"><img src="img/rightnav.gif" alt="Next"></span><br>
Next</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="img/oracle.gif" alt="Oracle Logo"></span>
<a href="cpyr.html"><br>
Copyright © 2014, 2017, Oracle and/or its affiliates. All rights reserved.</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="toc.html"><span class="image"><img src="img/toc.gif" alt="Go To Table Of Contents"></span><br>
Contents</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

  </body>
</html>