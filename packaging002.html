
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Packaging Enterprise Beans</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>

<div id="preamble">
<div class="sectionbody">
<table id="top" class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 45%;">
<col style="width: 5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Java Platform, Enterprise Edition The Java EE Tutorial</strong><br>
<strong>Release 8 Java Platform, Enterprise Edition</strong><br>
E63026-01</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="toc.html"><span class="image"><img src="img/toc.gif" alt="Go To Table Of Contents"></span><br>
Contents</a></p></td>
</tr>
</tbody>
</table>
<hr>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="packaging001.html"><span class="image"><img src="img/leftnav.gif" alt="Previous"></span><br>
Previous</a> </p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="packaging003.html"><span class="image"><img src="img/rightnav.gif" alt="Next"></span><br>
Next</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"> </p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="packaging-enterprise-beans">5.2 Packaging Enterprise Beans</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains how enterprise beans can be packaged in EJB JAR or
WAR modules. It includes the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDFCDBG">Section 5.2.1, "Packaging Enterprise Beans in EJB JAR
Modules"</a></p>
</li>
<li>
<p><a href="#CHDJABEJ">Section 5.2.2, "Packaging Enterprise Beans in WAR
Modules"</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="packaging-enterprise-beans-in-ejb-jar-modules">5.2.1 Packaging Enterprise Beans in EJB JAR Modules</h3>
<div class="paragraph">
<p>An EJB JAR file is portable and can be used for various applications.</p>
</div>
<div class="paragraph">
<p>To assemble a Java EE application, package one or more modules, such as
EJB JAR files, into an EAR file, the archive file that holds the
application. When deploying the EAR file that contains the enterprise
bean&#8217;s EJB JAR file, you also deploy the enterprise bean to GlassFish
Server. You can also deploy an EJB JAR that is not contained in an EAR
file. <a href="#BCGFJIJI">Figure 5-2</a> shows the contents of an EJB JAR file.</p>
</div>
<div id="BCGFJIJI" class="paragraph">
<p>Figure 5-2 Structure of an Enterprise Bean JAR</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/javaeett_dt_011.png" alt="Description of Figure 5-2 follows"></span><br>
<a href="img_text/javaeett_dt_011.html">Description of "Figure 5-2 Structure of
an Enterprise Bean JAR"</a><br>
<br></p>
</div>
</div>
<div class="sect2">
<h3 id="packaging-enterprise-beans-in-war-modules">5.2.2 Packaging Enterprise Beans in WAR Modules</h3>
<div class="paragraph">
<p>Enterprise beans often provide the business logic of a web application.
In these cases, packaging the enterprise bean within the web
application&#8217;s WAR module simplifies deployment and application
organization. Enterprise beans may be packaged within a WAR module as
Java programming language class files or within a JAR file that is
bundled within the WAR module.</p>
</div>
<div class="paragraph">
<p>To include enterprise bean class files in a WAR module, the class files
should be in the <code>WEB-INF/classes</code> directory.</p>
</div>
<div class="paragraph">
<p>To include a JAR file that contains enterprise beans in a WAR module,
add the JAR to the <code>WEB-INF/lib</code> directory of the WAR module.</p>
</div>
<div class="paragraph">
<p>WAR modules that contain enterprise beans do not require an
<code>ejb-jar.xml</code> deployment descriptor. If the application uses
<code>ejb-jar.xml</code>, it must be located in the WAR module&#8217;s <code>WEB-INF</code>
directory.</p>
</div>
<div class="paragraph">
<p>JAR files that contain enterprise bean classes packaged within a WAR
module are not considered EJB JAR files, even if the bundled JAR file
conforms to the format of an EJB JAR file. The enterprise beans
contained within the JAR file are semantically equivalent to enterprise
beans located in the WAR module&#8217;s <code>WEB-INF/classes</code> directory, and the
environment namespace of all the enterprise beans are scoped to the WAR
module.</p>
</div>
<div class="paragraph">
<p>For example, suppose that a web application consists of a shopping cart
enterprise bean, a credit card–processing enterprise bean, and a Java
servlet front end. The shopping cart bean exposes a local, no-interface
view and is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">package com.example.cart;

@Stateless
public class CartBean { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The credit card–processing bean is packaged within its own JAR file,
<code>cc.jar</code>, exposes a local, no-interface view, and is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">package com.example.cc;

@Stateless
public class CreditCardBean { ... }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The servlet, <code>com.example.web.StoreServlet</code>, handles the web front end
and uses both <code>CartBean</code> and <code>CreditCardBean</code>. The WAR module layout for
this application is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">WEB-INF/classes/com/example/cart/CartBean.class
WEB-INF/classes/com/example/web/StoreServlet
WEB-INF/lib/cc.jar
WEB-INF/ejb-jar.xml
WEB-INF/web.xml</code></pre>
</div>
</div>
<hr>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 65%;">
<col style="width: 10%;">
<col style="width: 5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="packaging001.html"><span class="image"><img src="img/leftnav.gif" alt="Previous"></span><br>
Previous</a> </p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="packaging003.html"><span class="image"><img src="img/rightnav.gif" alt="Next"></span><br>
Next</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="img/oracle.gif" alt="Oracle Logo"></span>
<a href="cpyr.html"><br>
Copyright © 2014, 2017, Oracle and/or its affiliates. All rights reserved.</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="toc.html"><span class="image"><img src="img/toc.gif" alt="Go To Table Of Contents"></span><br>
Contents</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

  </body>
</html>