type=page
status=published
title=The mood Example Application
~~~~~~
The mood Example Application
============================
2017-07-17T15:27:49Z

[[top]]

[width="100%",cols="50%,45%,^5%",]
|=======================================================================
|*Java Platform, Enterprise Edition The Java EE Tutorial* +
*Release 8 Java Platform, Enterprise Edition* +
E63026-01
|
|link:toc.html[image:img/toc.gif[Go To Table Of
Contents] +
Contents]
|=======================================================================

'''''

[cols="^5%,^5%,90%",]
|=======================================================================
|link:servlets014.html[image:img/leftnav.gif[Previous] +
Previous] 
|link:servlets016.html[image:img/rightnav.gif[Next] +
Next] | 
|=======================================================================


[[GKCPG]]

[[the-mood-example-application]]
17.15 The mood Example Application
----------------------------------

The `mood` example application, located in the
tut-install`/examples/web/servlet/mood/` directory, is a simple example
that displays Duke's moods at different times during the day. The
example shows how to develop a simple application by using the
`@WebServlet`, `@WebFilter`, and `@WebListener` annotations to create a
servlet, a listener, and a filter.

The following topics are addressed here:

* link:#CHDEBFCB[Section 17.15.1, "Components of the mood Example
Application"]
* link:#GKCOJ[Section 17.15.2, "Running the mood Example"]

[[CHDEBFCB]]

[[components-of-the-mood-example-application]]
17.15.1 Components of the mood Example Application
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The `mood` example application is comprised of three components:
`mood.web.MoodServlet`, `mood.web.TimeOfDayFilter`, and
`mood.web.SimpleServletListener`.

`MoodServlet`, the presentation layer of the application, displays
Duke's mood in a graphic, based on the time of day. The `@WebServlet`
annotation specifies the URL pattern:

[source,oac_no_warn]
----
@WebServlet("/report")
public class MoodServlet extends HttpServlet {
    ...
----

`TimeOfDayFilter` sets an initialization parameter indicating that Duke
is awake:

[source,oac_no_warn]
----
@WebFilter(filterName = "TimeOfDayFilter",
urlPatterns = {"/*"},
initParams = {
    @WebInitParam(name = "mood", value = "awake")})
public class TimeOfDayFilter implements Filter {
    ...
----

The filter calls the `doFilter` method, which contains a `switch`
statement that sets Duke's mood based on the current time.

`SimpleServletListener` logs changes in the servlet's lifecycle. The log
entries appear in the server log.

[[GKCOJ]]

[[running-the-mood-example]]
17.15.2 Running the mood Example
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You can use either NetBeans IDE or Maven to build, package, deploy, and
run the `mood` example.

The following topics are addressed here:

* link:#GKCOB[Section 17.15.2.1, "To Run the mood Example Using NetBeans
IDE"]
* link:#GKCPJ[Section 17.15.2.2, "To Run the mood Example Using Maven"]

[[GKCOB]]

[[to-run-the-mood-example-using-netbeans-ide]]
17.15.2.1 To Run the mood Example Using NetBeans IDE
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

1.  Make sure that GlassFish Server has been started (see
link:usingexamples002.html#BNADI[Starting and Stopping GlassFish
Server]).
2.  From the File menu, choose Open Project.
3.  In the Open Project dialog box, navigate to:
+
[source,oac_no_warn]
----
tut-install/examples/web/servlet
----
4.  Select the `mood` folder.
5.  Click Open Project.
6.  In the Projects tab, right-click the `mood` project and select
Build.
7.  In a web browser, enter the following URL:
+
[source,oac_no_warn]
----
http://localhost:8080/mood/report
----
+
The URL specifies the context root, followed by the URL pattern.
+
A web page appears with the title "Servlet MoodServlet at /mood", a text
string describing Duke's mood, and an illustrative graphic.

[[GKCPJ]]

[[to-run-the-mood-example-using-maven]]
17.15.2.2 To Run the mood Example Using Maven
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

1.  Make sure that GlassFish Server has been started (see
link:usingexamples002.html#BNADI[Starting and Stopping GlassFish
Server]).
2.  In a terminal window, go to:
+
[source,oac_no_warn]
----
tut-install/examples/web/servlet/mood/
----
3.  Enter the following command to deploy the application:
+
[source,oac_no_warn]
----
mvn install
----
4.  In a web browser, enter the following URL:
+
[source,oac_no_warn]
----
http://localhost:8080/mood/report
----
+
The URL specifies the context root, followed by the URL pattern.
+
A web page appears with the title "Servlet MoodServlet at /mood", a text
string describing Duke's mood, and an illustrative graphic.

'''''

[width="100%",cols="^5%,^5%,^10%,^65%,^10%,^5%",]
|====================================================================
|link:servlets014.html[image:img/leftnav.gif[Previous] +
Previous] 
|link:servlets016.html[image:img/rightnav.gif[Next] +
Next]
|
|image:img/oracle.gif[Oracle Logo]
link:cpyr.html[ +
Copyright © 2014, 2017, Oracle and/or its affiliates. All rights reserved.]
|
|link:toc.html[image:img/toc.gif[Go To Table Of
Contents] +
Contents]
|====================================================================
