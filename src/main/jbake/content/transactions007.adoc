type=page
status=published
title=Updating Multiple Databases
~~~~~~
Updating Multiple Databases
===========================
2017-07-17T15:27:54Z

[[top]]

[width="100%",cols="50%,45%,^5%",]
|=======================================================================
|*Java Platform, Enterprise Edition The Java EE Tutorial* +
*Release 8 Java Platform, Enterprise Edition* +
E63026-01
|
|link:toc.html[image:img/toc.gif[Go To Table Of
Contents] +
Contents]
|=======================================================================

'''''

[cols="^5%,^5%,90%",]
|=======================================================================
|link:transactions006.html[image:img/leftnav.gif[Previous] +
Previous] 
|link:transactions008.html[image:img/rightnav.gif[Next] +
Next] | 
|=======================================================================


[[BNCJD]]

[[updating-multiple-databases]]
51.7 Updating Multiple Databases
--------------------------------

The Java EE transaction manager controls all enterprise bean
transactions except for bean-managed JDBC transactions. The Java EE
transaction manager allows an enterprise bean to update multiple
databases within a transaction. link:#BNCJE[Figure 51-2] and
link:#BNCJF[Figure 51-3] show two scenarios for updating multiple
databases in a single transaction.

In link:#BNCJE[Figure 51-2], the client invokes a business method in
`Bean-A`. The business method begins a transaction, updates Database X,
updates Database Y, and invokes a business method in `Bean-B`. The
second business method updates Database Z and returns control to the
business method in `Bean-A`, which commits the transaction. All three
database updates occur in the same transaction.

In link:#BNCJF[Figure 51-3], the client calls a business method in
`Bean-A`, which begins a transaction and updates Database X. Then
`Bean-A` invokes a method in `Bean-B`, which resides in a remote Java EE
server. The method in `Bean-B` updates Database Y. The transaction
managers of the Java EE servers ensure that both databases are updated
in the same transaction.

[[BNCJE]]

Figure 51-2 Updating Multiple Databases

image:img/javaeett_dt_051.png[Description of Figure 51-2 follows] +
link:img_text/javaeett_dt_051.html[Description of "Figure 51-2 Updating
Multiple Databases"] +
 +

[[BNCJF]]

Figure 51-3 Updating Multiple Databases Across Java EE Servers

image:img/javaeett_dt_052.png[Description of Figure 51-3 follows] +
link:img_text/javaeett_dt_052.html[Description of "Figure 51-3 Updating
Multiple Databases Across Java EE Servers"] +
 +

'''''

[width="100%",cols="^5%,^5%,^10%,^65%,^10%,^5%",]
|====================================================================
|link:transactions006.html[image:img/leftnav.gif[Previous] +
Previous] 
|link:transactions008.html[image:img/rightnav.gif[Next] +
Next]
|
|image:img/oracle.gif[Oracle Logo]
link:cpyr.html[ +
Copyright © 2014, 2017, Oracle and/or its affiliates. All rights reserved.]
|
|link:toc.html[image:img/toc.gif[Go To Table Of
Contents] +
Contents]
|====================================================================
